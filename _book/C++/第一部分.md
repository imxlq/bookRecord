---
title: 《C++ Primer》笔记——第一部分
date: 2021-08-18 21:08:10
tags: 
- C++
- 笔记
categories: 
- 学习
- C++ Primer
---

# 1. 简述

​		想系统性地将C++的知识过一遍, 所以选择了“C++ primer”这本名书. 书中第一章大体地介绍了C++的内容, 就不记录了. 总体只记录个人认为的书中的重点和难点以及一时难以弄清的重点, 非详细笔记, 类似备忘录的性质. 其中标题号为书中对应的标号, 便于对应查找.



***



# 2. 变量和基本类型

## 2.1.2 类型转换

### 1. 将负值传给无符号类型

`unsigned char c = -1;` 若当前计算机char占8比特, c的值为255

* 这里的负值超出了这个无符号类型的表示范围(上例范围为0~255)
* **其结果会自动转换为初始值对无符号类型表示数值总数取模后的余数.**

这里涉及到取模的运算, 是我以前没有注意到的, 下面是对取模和取余两个运算的总结, 在这里上述情况下: 结果 = 初始值mod数值总数 = -1mod256, 商c = [-1/256] = -1, 结果r = -1 + 1 * 256 = 255





### 2. 将超过范围的值传给某一类型

`signed char c = 256;` 此时c未定义

* 当给变量赋一个超过它类型所规定的值时, 此时这个变量是未定义的, 程序可能正常工作, 也可能崩溃, 也可能生成垃圾数据. **应避免此种错误.**







## 2.3.3 理解复合类型的声明

`int i = 1024, *p = &i, &r = i;`

> i是一个int型的数, p是一个指向int的指针, r是一个int型的引用

`int *p1, p2;`

> p1是指向int的指针, p2是int



### * 取模(mod)和取余(rem)

​		取模和取余是两个相似的运算, 都是取余数, 这两个运算在除数和被除数的符号相同时(同正或同负), 这两个运算的结果是一样的, 当符号不同时, 这两个运算的结果通常不同.

* 导致这两个运算结果不同的重点在于求商

  * 用c表示商: c = [a/b] (方括号运算表示取整)
  * **取模运算:** c向负无穷取整
  * **取余运算:** c向0取整
  * 用r表示余数: r = a - c*b

* 以上四点是取余和取模的定义, 下面讲述自己的理解:

  * 一个x轴, 分为负轴和正轴, 0在正中间.

  * 当除数和被除数(a和b) 同符号时, 商c总为正数, 总在0点的右边, 所以不管是向负无穷取整还是向0取整, 都是向“左边”取整, 而后面求余数r的方法是一致的, 所以这两个运算的结果相同.

    > 如: [7/4] = [1.75], 向负无穷取整 = 向0取整 = 1

  * 当a和b符号不同时, 商c总为负数, 总在0点的左边, 这个时候, 取模运算向负无穷取整便是“向左”取整, 而取余运算向0取整就是“向右”取整, 这便导致了两个运算的商c不同, 从而导致余数r不同.

    > 如: [-7/4] = [-1.75], 向负无穷取整 = -2, 向0取整 = -1

* 下面是一些例子:

  * **7mod4 :** 
    1. c = [7/4] = 1
    2. r = a - c * b = 7 - 4 = 3
  * **7rem4:**
    1. c = [7/4] = 1
    2. r = a - c * b = 7 - 4 = 3
  * **-7mod4:**
    1. c = [-7/4] = -2
    2. r = a - c * b = -7 + 2 * 4 = 1
  * **-7rem4:**
    1. c = [-7/4] = -1
    2. r = a - c * b = -7 + 1* 4 = -3

* **在常见的编程语言中, C/C++, java中的“%”运算符表示的是取余运算, Python中的“%”运算符表示的是取模运算**

  * C++: 

  <img src="https://cdn.jsdelivr.net/gh/imxlq/image-bed-2021@main/img/20210818224904.png" alt="image-20210818224857516" style="zoom:33%;" />

  * Python: 

    <img src="https://cdn.jsdelivr.net/gh/imxlq/image-bed-2021@main/img/20210818225022.png" alt="image-20210818225022509" style="zoom: 33%;" />



***



## 2.4 const限定符

* const对象一旦创建后, 其值就不能再改变, const对象必须初始化.
